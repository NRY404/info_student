{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url-search-params.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"Header\",\n  data: function data() {\n    return {\n      formTitle: '',\n      form: {},\n      dialogVisible: false,\n      userIn: localStorage.getItem(\"userIn\") ? JSON.parse(localStorage.getItem(\"userIn\")) : {}\n    };\n  },\n  props: {\n    collapseBtnClass: String,\n    collapse: Function\n  },\n  methods: {\n    loginOut: function loginOut() {\n      this.$router.push(\"/login\");\n      localStorage.removeItem(\"userIn\");\n      this.$message.success(\"退出成功\");\n    },\n    handleEdit: function handleEdit() {\n      this.form = this.userIn; //将row拷贝到空对象中，解决没点确定 表中数据改变的问题\n\n      this.dialogVisible = true;\n      this.formTitle = '个人信息';\n    },\n    //          头像上传成功\n    handleAvatarSuccess: function handleAvatarSuccess(res, file) {\n      this.imageUrl = URL.createObjectURL(file.raw);\n    },\n    //          头像上传之前\n    beforeAvatarUpload: function beforeAvatarUpload(file) {\n      var isJPG = file.type === 'image/jpeg';\n      var isLt2M = file.size / 1024 / 1024 < 2;\n\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG 格式!');\n      }\n\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n\n      return isJPG && isLt2M;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACAA,gBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,mBADA;AAEAC,cAFA;AAGAC,0BAHA;AAIAC;AAJA;AAMA,GATA;AAUAC;AACAC,4BADA;AAEAC;AAFA,GAVA;AAcAC;AACAC,YADA,sBACA;AACA;AACAC;AACA;AACA,KALA;AAMAC,cANA,wBAMA;AACA,8BADA,CACA;;AACA;AACA;AACA,KAVA;AAYA;AACAC,uBAbA,+BAaAC,GAbA,EAaAC,IAbA,EAaA;AACA;AACA,KAfA;AAgBA;AACAC,sBAjBA,8BAiBAD,IAjBA,EAiBA;AACA;AACA;;AAEA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AA5BA;AAdA","names":["name","data","formTitle","form","dialogVisible","userIn","props","collapseBtnClass","collapse","methods","loginOut","localStorage","handleEdit","handleAvatarSuccess","res","file","beforeAvatarUpload"],"sourceRoot":"src/components","sources":["Header.vue"],"sourcesContent":["<template>\r\n    <div style=\" font-size: 12px;display: flex; \">\r\n        <div style=\"flex: 1;font-size: 20px;\">\r\n            <span :class=\"collapseBtnClass\" style=\"cursor: pointer\" @click=\"collapse\"></span>\r\n        </div>\r\n        <div style=\"text-align: right;font-size: 12px;width: 200px;\"></div>\r\n        <el-dropdown style=\"width: 120px;cursor: pointer\">\r\n            <div style=\"display: inline-block\">\r\n                <img style=\"width: 30px;border-radius: 50%;position: relative;top: 10px;right: 15px;\" :src=\"userIn.avatar\" alt=\"\">\r\n                <i class=\"el-icon-setting\" style=\"margin-right: 15px\"><span>{{ userIn.nickname}}</span></i>\r\n            </div>\r\n            <el-dropdown-menu style=\"margin-right: 30px\" slot=\"dropdown\" >\r\n                <el-dropdown-item>\r\n                    <el-button style=\" font-size: 14px; padding: 5px 0; text-decoration: none;color: #B3C0D1;border: none;\"\r\n                            @click=\"handleEdit()\">个人信息</el-button>\r\n                </el-dropdown-item>\r\n                <el-dropdown-item>\r\n                    <el-button style=\" font-size: 14px; padding: 5px 0; text-decoration: none;color: #B3C0D1;border: none;\" @click=\"loginOut\">退出</el-button>\r\n                </el-dropdown-item>\r\n            </el-dropdown-menu>\r\n        </el-dropdown>\r\n        <div style=\"margin: 10px 0\">\r\n            <!--    查看个人信息 的表单-->\r\n            <el-dialog\r\n                    :title=\"formTitle\"\r\n                    :visible.sync=\"dialogVisible\"\r\n                    width=\"30%\">\r\n\r\n                <el-form ref=\"form\" :model=\"form\" label-width=\"80px\" size=\"small\">\r\n                    <el-form-item label=\"头像\" style=\"line-height: 50px;height: 50px\">\r\n                        <el-upload\r\n                                class=\"avatar-uploader\"\r\n                                action=\"https://jsonplaceholder.typicode.com/posts/\"\r\n                                :show-file-list=\"false\"\r\n                                :on-success=\"handleAvatarSuccess\"\r\n                                :before-upload=\"beforeAvatarUpload\">\r\n                            <img style=\"width: 50px;border-radius: 50%; position: relative; left: 35px; cursor: pointer;\r\n                                        border: 1px dotted #95b5ea;\r\n                                        box-shadow: 3px 5px 5px rgba(135,206,235, 0.3);\"\r\n                                 v-if=\"form.avatar\" :src=\"form.avatar\" alt=\"头像\" class=\"avatar\">\r\n                            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                        </el-upload>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"姓名\">\r\n                        <el-input v-model=\"form.username\" :disabled=\"true\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"密码\">\r\n                        <el-input v-model=\"form.password\" :disabled=\"true\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"昵称\">\r\n                        <el-input v-model=\"form.nickname\" :disabled=\"true\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"电话\">\r\n                        <el-input v-model=\"form.phone\" :disabled=\"true\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"邮箱\">\r\n                        <el-input v-model=\"form.email\" :disabled=\"true\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"地址\">\r\n                        <el-input type=\"textarea\" v-model=\"form.address\" :disabled=\"true\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button @click=\"dialogVisible = false\" >OK</el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </el-dialog>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Header\",\r\n        data(){\r\n          return{\r\n              formTitle: '',\r\n              form: { },\r\n              dialogVisible: false,\r\n              userIn:localStorage.getItem(\"userIn\") ? JSON.parse(localStorage.getItem(\"userIn\")) : {}\r\n          }\r\n        },\r\n        props: {\r\n            collapseBtnClass: String,\r\n            collapse: Function\r\n        },\r\n        methods:{\r\n            loginOut(){\r\n                this.$router.push(\"/login\");\r\n                localStorage.removeItem(\"userIn\");\r\n                this.$message.success(\"退出成功\");\r\n            },\r\n            handleEdit() {\r\n                this.form = this.userIn; //将row拷贝到空对象中，解决没点确定 表中数据改变的问题\r\n                this.dialogVisible = true;\r\n                this.formTitle = '个人信息';\r\n            },\r\n\r\n//          头像上传成功\r\n            handleAvatarSuccess(res, file) {\r\n                this.imageUrl = URL.createObjectURL(file.raw);\r\n            },\r\n//          头像上传之前\r\n            beforeAvatarUpload(file) {\r\n                const isJPG = file.type === 'image/jpeg';\r\n                const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n                if (!isJPG) {\r\n                    this.$message.error('上传头像图片只能是 JPG 格式!');\r\n                }\r\n                if (!isLt2M) {\r\n                    this.$message.error('上传头像图片大小不能超过 2MB!');\r\n                }\r\n                return isJPG && isLt2M;\r\n            }\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .avatar-uploader .el-upload {\r\n        border: 1px dashed #d9d9d9;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n    .avatar-uploader .el-upload:hover {\r\n        border-color: #409EFF;\r\n    }\r\n    .avatar-uploader-icon {\r\n        font-size: 28px;\r\n        color: #8c939d;\r\n        width: 178px;\r\n        height: 178px;\r\n        line-height: 178px;\r\n        text-align: center;\r\n    }\r\n    .avatar {\r\n        width: 178px;\r\n        height: 178px;\r\n        display: block;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}