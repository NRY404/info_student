{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"File\",\n\n  data() {\n    return {\n      tableData: [],\n      studentId: '',\n      name: '',\n      courseName: '',\n      courseType: '',\n      courseMark: '',\n      grade: '',\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n      headerBg: 'headerBg'\n    };\n  },\n\n  mounted() {\n    this.load();\n  },\n\n  methods: {\n    load() {\n      this.request.get(\"/grade/page\", {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize\n        }\n      }).then(req => {\n        this.tableData = req.data;\n        this.total = req.total;\n      });\n    },\n\n    //分页\n    handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n\n      if (this.studentId == null || this.studentId === '') {\n        this.load();\n      } else {\n        this.selectByCondition();\n      }\n    },\n\n    handleCurrentChange(pageNum) {\n      this.pageNum = pageNum;\n\n      if (this.studentId == null || this.studentId === '') {\n        this.load();\n      } else {\n        this.selectByCondition();\n      }\n    },\n\n    handleFileUploadSuccess() {\n      this.load();\n    },\n\n    selectByCondition() {\n      this.request.get(\"/grade/page3?pageNum=\" + this.pageNum + \"&pageSize=\" + this.pageSize + \"&studentId=\" + this.studentId).then(req => {\n        this.tableData = req.data;\n        this.total = req.total;\n      });\n    },\n\n    //重置\n    reset() {\n      this.studentId = '';\n      this.load();\n    },\n\n    exportGeade() {\n      window.open(\"http://localhost:9090/grade/export\");\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACAA,cADA;;AAEAC;AACA;AACAC,mBADA;AAEAC,mBAFA;AAGAH,cAHA;AAIAI,oBAJA;AAKAC,oBALA;AAMAC,oBANA;AAOAC,eAPA;AAQAC,gBARA;AASAC,kBATA;AAUAC,cAVA;AAWAC;AAXA;AAaA,GAhBA;;AAiBAC;AACA;AACA,GAnBA;;AAqBAC;AAEAC;AACA;AACAC;AACAP,+BADA;AAEAC;AAFA;AADA,SAKAO,IALA,CAKAC;AACA;AACA;AAEA,OATA;AAWA,KAdA;;AAgBA;AACAC;AACA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AAEA,KAzBA;;AA0BAC;AACA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAjCA;;AAmCAC;AACA;AACA,KArCA;;AAuCAC;AACA;AACA;AACA;AACA,OAHA;AAIA,KA5CA;;AA6CA;AACAC;AACA;AACA;AACA,KAjDA;;AAmDAC;AACAC;AACA;;AArDA;AArBA","names":["name","data","tableData","studentId","courseName","courseType","courseMark","grade","pageNum","pageSize","total","headerBg","mounted","methods","load","params","then","req","handleSizeChange","handleCurrentChange","handleFileUploadSuccess","selectByCondition","reset","exportGeade","window"],"sourceRoot":"src/views","sources":["Grade.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <!--        顶部搜索框 -->\r\n        <div style=\"margin: 10px 0\">\r\n            <el-input class=\"ml-5\" v-model=\"studentId\" style=\"width: 200px;\" suffix-icon=\"el-icon-edit\" placeholder=\"请输入学号\"></el-input>\r\n            <el-button style=\"margin-left: 5px;\" type=\"primary\" icon=\"el-icon-search\" @click=\"selectByCondition\">搜索</el-button>\r\n            <el-button style=\"margin-left: 5px;margin-right: 15px;\" type=\"warning\"  @click=\"reset\">重置</el-button>\r\n            <el-button type=\"info\" @click=\"exportGeade\" class=\"ml-5\" round>导出 <i class=\"el-icon-upload2\"></i></el-button>\r\n        </div>\r\n\r\n\r\n        <el-table\r\n                :data=\"tableData\" border stripe\r\n                :header-cell-class-name=\"headerBg\">\r\n            <!--            多选框-->\r\n            <el-table-column\r\n                    type=\"selection\"\r\n                    align=\"center\"\r\n                    width=\"50\">\r\n            </el-table-column>\r\n            <el-table-column  prop=\"studentId\" align=\"center\" label=\"学号\" width=\"120\"></el-table-column>\r\n            <el-table-column prop=\"name\" align=\"center\" label=\"姓名\"></el-table-column>\r\n            <el-table-column prop=\"courseName\" align=\"center\" label=\"课程名\"></el-table-column>\r\n            <el-table-column prop=\"courseType\" align=\"center\" label=\"课程类别\"></el-table-column>\r\n            <el-table-column prop=\"courseMark\" align=\"center\" label=\"课程学分\"></el-table-column>\r\n            <el-table-column prop=\"grade\" align=\"center\" label=\"成绩\"></el-table-column>\r\n\r\n        </el-table>\r\n        <div style=\"padding: 10px 0\">\r\n            <!--\r\n            current-page：当前页码\r\n            page-sizes：分页条件数\r\n            page-size：分页大小-->\r\n            <el-pagination\r\n                    @size-change=\"handleSizeChange\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                    :current-page=\"pageNum\"\r\n                    :page-sizes=\"[2, 5, 10, 20]\"\r\n                    :page-size=\"pageSize\"\r\n                    layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"total\">\r\n            </el-pagination>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"File\",\r\n        data(){\r\n            return{\r\n                tableData: [],\r\n                studentId: '',\r\n                name: '',\r\n                courseName: '',\r\n                courseType: '',\r\n                courseMark: '',\r\n                grade: '',\r\n                pageNum: 1,\r\n                pageSize: 10,\r\n                total: 0,\r\n                headerBg:'headerBg'\r\n            }\r\n        },\r\n        mounted() {\r\n            this.load();\r\n        },\r\n\r\n        methods:{\r\n\r\n            load(){\r\n                this.request.get(\"/grade/page\",{\r\n                    params: {\r\n                        pageNum:this.pageNum,\r\n                        pageSize:this.pageSize\r\n                    }\r\n                }).then(req => {\r\n                        this.tableData = req.data;\r\n                        this.total = req.total;\r\n\r\n                })\r\n\r\n            },\r\n\r\n            //分页\r\n            handleSizeChange(pageSize) {\r\n                this.pageSize = pageSize;\r\n                if (this.studentId ==null || this.studentId === ''){\r\n                    this.load();\r\n                }else {\r\n                    this.selectByCondition();\r\n                }\r\n\r\n            },\r\n            handleCurrentChange(pageNum) {\r\n                this.pageNum = pageNum;\r\n                if (this.studentId ==null || this.studentId === ''){\r\n                    this.load();\r\n                }else {\r\n                    this.selectByCondition();\r\n                }\r\n            },\r\n\r\n            handleFileUploadSuccess(){\r\n                this.load();\r\n            },\r\n\r\n            selectByCondition(){\r\n                this.request.get(\"/grade/page3?pageNum=\"+this.pageNum+\"&pageSize=\"+this.pageSize+\"&studentId=\"+this.studentId).then(req => {\r\n                    this.tableData = req.data;\r\n                    this.total = req.total;\r\n                })\r\n            },\r\n            //重置\r\n            reset(){\r\n                this.studentId = '';\r\n                this.load();\r\n            },\r\n\r\n            exportGeade(){\r\n                window.open(\"http://localhost:9090/grade/export\");\r\n            }\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}